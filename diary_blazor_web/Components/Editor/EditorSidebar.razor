@rendermode InteractiveServer

<div class="col-span-2">
	<div class="">
		<div class="flex gap-2 justify-evenly mb-2 mt-2">
			<LumexButton Color="ThemeColor.Default" Variant="Variant.Ghost">Xem trước</LumexButton>
			<LumexButton Color="ThemeColor.Primary" Variant="Variant.Solid">Cập nhật</LumexButton>
		</div>
		<LumexDivider />
		<div class="p-3">
			<h2 class="font-bold text-2xl text-center">Cài đặt nhật ký</h2>
			<div class="flex flex-col">
				<div class="border-b border-b-gray-300">
					<div class="flex gap-2 w-full cursor-pointer p-4 hover:bg-gray-200 rounded-lg" @onclick="@(() => ToggleExpansion("tag"))">
						<span class="@(_expanded["tag"] ? "rotate-180" : "")"><i class="fa-solid fa-caret-down"></i></span>
						<span>Nhãn</span>
					</div>
					<LumexCollapse As="ul"
								   Expanded="@_expanded["tag"]"
								   Class="ml-4">
						<div>
							<LumexTextbox Variant="InputVariant.Underlined" Type="@InputType.Email" Placeholder="Nhập nhãn dán" />
							<LumexListbox TValue="string">
								<LumexListboxItem>New file</LumexListboxItem>
								<LumexListboxItem>Edit file</LumexListboxItem>
								<LumexListboxItem>Share file</LumexListboxItem>
							</LumexListbox>
						</div>
					</LumexCollapse>
				</div>
				<div class="border-b border-b-gray-300">
					<div class="flex gap-2 w-full cursor-pointer p-4 hover:bg-gray-200 rounded-lg" @onclick="@(() => ToggleExpansion("publish"))">
						<span class="@(_expanded["publish"] ? "rotate-180" : "")"><i class="fa-solid fa-caret-down"></i></span>
						<span>Được xuất bản vào</span>
					</div>
					<LumexCollapse As="ul"
								   Expanded="@_expanded["publish"]"
								   Class="ml-4">
						<div>hello</div>
					</LumexCollapse>
				</div>
				<div class="border-b border-b-gray-300">
					<div class="flex gap-2 w-full cursor-pointer p-4 hover:bg-gray-200 rounded-lg" @onclick="@(() => ToggleExpansion("share"))">
						<span class="@(_expanded["share"] ? "rotate-180" : "")"><i class="fa-solid fa-caret-down"></i></span>
						<span>Chia sẻ</span>
					</div>
					<LumexCollapse As="ul"
								   Expanded="@_expanded["share"]"
								   Class="ml-4">
						<LumexCheckboxGroup>
							<LumexCheckbox>Công khai</LumexCheckbox>
							<LumexCheckbox>Cho phép bình luận</LumexCheckbox>
							<LumexCheckbox>Cho phép chia sẻ</LumexCheckbox>
						</LumexCheckboxGroup>
					</LumexCollapse>
				</div>
			</div>
		</div>
	</div>
</div>

@code {
	private Dictionary<string, bool> _expanded = new Dictionary<string, bool>()
	{
		{ "tag", true },
		{ "publish", true },
		{ "share", true},
	};

	private void ToggleExpansion(string key)
	{
		_expanded[key] = !_expanded[key];
	}
}
